<template name="perfil">
    <div id="perfil-screen">
        <table id="perfil-list-wrapper" class="table">
            <thead>
                <tr>
                    <th>Perfil</th>
                    {{#if perfilSelected}}
                        <th scope="col">Overall depth of member<br>d</th>
                        <th scope="col">Flange width<br>b<sub>f</sub></th>
                        <th scope="col">Web thickness<br>t<sub>w</sub></th>
                        <th scope="col">Flange thickness<br>t<sub>f</sub></th>
                        <th scope="col">Fillet radius<br>r</th>
                        <th scope="col">Cross-sectional area<br>Area</th>
                        <th scope="col">Weight</th>
                        {{#if perfilCustom}}
                            <th scope="col">Nombre del perfil</th>
                        {{/if}}
                        <th>&#32;</th>
                    {{else}}
                        <th colspan="8">&#32;</th>
                    {{/if}}
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <label for="perfil-custom" class="switch">
                            <input id="perfil-custom" type="checkbox" checked="{{perfilCustom}}">
                            <span class="slider round"></span>
                        </label>
                        <select class="form-control" id="perfil-list" disabled="{{perfilCustom}}">
                            <option value="" selected="{{isPerfilSelected false}}">&#45;&#45; Select One &#45;&#45;</option>
                            {{#each perfilList}}
                                <option value="{{_id}}" selected="{{isPerfilSelected _id}}">{{_id}}</option>
                            {{/each}}
                        </select>
                    </td>
                    {{#with perfilRow}}
                        <td>{{d}}{{{getunit 'd'}}}</td>
                        <td>{{bf}}{{{getunit 'bf'}}}</td>
                        <td>{{tw}}{{{getunit 'tw'}}}</td>
                        <td>{{tf}}{{{getunit 'tf'}}}</td>
                        <td>{{r}}{{{getunit 'r'}}}</td>
                        <td>{{area}}{{{getunit 'Area'}}}</td>
                        <td>{{weight}}{{{getunit 'Peso'}}}</td>
                        <td>
                            <a id="perfil-download" class="btn btn-link" href="{{perfilFile}}" download="{{fileName}}">
                                <i class="fas fa-download"></i>
                            </a>
                        </td>
                        {{else}}
                            {{#if perfilCustom}}
                                <td><input type="number" id="custom-d" min="0" class="form-control"></td>
                                <td><input type="number" id="custom-bf" min="0" class="form-control"></td>
                                <td><input type="number" id="custom-tw" min="0" class="form-control"></td>
                                <td><input type="number" id="custom-tf" min="0" class="form-control"></td>
                                <td>0</td>
                                <td>{{a}}</td>
                                <td>{{w}}</td>
                                <td><input type="text" id="custom-name" class="form-control"></td>
                                <td>
                                    <button type="button" id="save-custom" class="btn btn-link">
                                        <i class="far fa-save"></i>
                                    </button>
                                    <a id="perfil-download" class="btn btn-link" href="{{perfilFile}}" download="{{fileName}}">
                                        <i class="fas fa-download"></i>
                                    </a>
                                </td>
                            {{else}}
                                <td colspan="8">&#32;</td>
                            {{/if}}
                    {{/with}}
                </tr>
            </tbody>
        </table>

        <table id="material-list-wrapper" class="table">
            <thead>
                <tr>
                    <th scope="col">Material</th>
                    {{#if materialSelected}}
                        <th scope="col">F<sub>y</sub></th>
                        <th scope="col">F<sub>u</sub></th>
                        <th scope="col">E</th>
                    {{else}}
                        <th colspan="3">&#32;</th>
                    {{/if}}
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <select class="form-control" id="material-list">
                            <option value="" selected="{{isMaterialSelected false}}">&#45;&#45; Select One &#45;&#45;</option>
                            {{#each materialList}}
                                <option value="{{_id}}" selected="{{isMaterialSelected _id}}">{{_id}}</option>
                            {{/each}}
                        </select>
                    </td>
                    {{#with materialRow}}
                        <td>{{Fy}}</td>
                        <td>{{Fu}}</td>
                        <td>{{E}}</td>
                        {{else}}
                            <td colspan="3">&#32;</td>
                    {{/with}}
                </tr>
            </tbody>
        </table>

        {{#if both}}
            {{> classifications material=materialRow perfil=perfilRow }}
        {{/if}}
    </div>
</template>
